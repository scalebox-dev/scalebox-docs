# ScaleBox CLI 镜像替换

学习如何使用自定义容器镜像替换模板中的默认镜像。
这个功能允许您使用自己的应用程序镜像、安全补丁或预配置的环境。

> ✨ 新功能：镜像替换

## 基本用法

替换模板镜像的基本命令格式：

## 完整工作流程

以下是替换模板镜像的完整步骤：

## Docker 命令

在替换镜像之前，您需要先导出 Docker 镜像：

## 使用场景

镜像替换功能适用于多种场景：

****

## 最佳实践

使用多阶段构建来减小镜像大小，移除不必要的文件和依赖。
考虑使用 Alpine Linux 基础镜像来减少镜像体积。

为您的镜像使用语义化版本标签，例如 v1.2.3。
避免使用 latest 标签，因为它可能导致不一致的行为。

定期更新基础镜像以获取安全补丁。扫描镜像中的漏洞，
并确保只包含必要的组件和依赖。

在替换生产模板之前，先在测试环境中验证新镜像。
确保应用程序在新镜像中正常运行，并检查所有功能。

## 故障排除

检查镜像大小，考虑使用 docker save | gzip 压缩镜像文件。
或者优化镜像，移除不必要的文件和依赖。

检查网络连接和文件权限。确保您有足够的磁盘空间，
并且文件路径正确。尝试使用绝对路径。

确保使用 docker save 命令导出的标准 tar 格式。
不要使用 docker export，因为它会丢失镜像元数据。

镜像替换成功！

现在您可以创建使用新镜像的沙盒环境。查看 沙盒命令 来学习如何创建和管理沙盒，
或查看 自动化指南 来了解如何将镜像替换集成到您的工作流程中。
